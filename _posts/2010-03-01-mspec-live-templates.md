---
layout: post
title: MSpec Live Templates
categories: []
tags:
- MSpec
- ReSharper
status: publish
type: post
published: true
meta:
  _elasticsearch_indexed_on: '2010-03-01 16:04:53'
comments: true
---
<p>&nbsp;</p> <p>If you’re using MSpec (<a href="http://github.com/machine/machine.specifications">Machine.Specifications</a>), you’ve no doubt run into the verbosity of it. Here’s a typical specification in MSpec</p> <div style="display:inline;float:none;margin:0;padding:0;" id="scid:9ce6104f-a9aa-4a17-a79f-3a39532ebf7c:3ce97efd-5c56-4b7e-b368-f1899582fb49" class="wlWriterSmartContent"> <div style="border-bottom:#000080 1px solid;border-left:#000080 1px solid;font-family:'Courier New', courier, monospace;color:#000;font-size:10pt;border-top:#000080 1px solid;border-right:#000080 1px solid;"> <div style="background:#ddd;overflow:auto;"> <ol style="background:#000000;margin:0 0 0 2.5em;padding:0 0 0 5px;"> <li><span style="color:#ffffff;">[</span><span style="color:#ffc66d;">Subject</span><span style="color:#ffffff;">(</span><span style="color:#a5c25c;">"Registering as new a usergroup"</span><span style="color:#ffffff;">)]</span>  <li><span style="color:#ffffff;"></span><span style="color:#cc7832;">public</span><span style="color:#ffffff;"> </span><span style="color:#cc7832;">class</span><span style="color:#ffffff;"> </span><span style="color:#ffc66d;">when_requesting_registration_page</span>  <li><span style="color:#ffffff;">{</span>  <li>&nbsp;&nbsp;&nbsp; <span style="color:#ffffff;"></span><span style="color:#6897bb;">Establish</span><span style="color:#ffffff;"> context = () =&gt;</span>  <li>&nbsp;&nbsp;&nbsp; <span style="color:#ffffff;">{</span>  <li>&nbsp;&nbsp;&nbsp; <span style="color:#ffffff;">};</span>  <li>&nbsp; <li>&nbsp;&nbsp;&nbsp; <span style="color:#ffffff;"></span><span style="color:#6897bb;">Because</span><span style="color:#ffffff;"> of = () =&gt;</span>  <li>&nbsp;&nbsp;&nbsp; <span style="color:#ffffff;">{</span>  <li>&nbsp;&nbsp;&nbsp; <span style="color:#ffffff;">};</span>  <li>&nbsp; <li>&nbsp;&nbsp;&nbsp; <span style="color:#ffffff;"></span><span style="color:#6897bb;">It</span><span style="color:#ffffff;"> should_display_blank_registration_form = () =&gt;</span>  <li>&nbsp;&nbsp;&nbsp; <span style="color:#ffffff;">{</span>  <li>&nbsp;&nbsp;&nbsp; <span style="color:#ffffff;">};</span>  <li><span style="color:#ffffff;">}</span> </li></ol></div></div></div> <p>&nbsp;</p> <p>The code is usually divided into three areas, the <em>Establish </em>that defines the context, <em>Because </em>which is defined as the action to take, and finally one or more benefits that are defined as <em>It</em> sections. Having this layout makes it easier to understand specifications and both the console runner as well as ReSharper’s MSpec runner remove underscores and provide a nice formatting.</p> <h3>Live Templates</h3> <p>However when it comes to typing all this in, well all those brackets and symbols become tiring. For that I normally use <a href="http://www.jetbrains.com/resharper">ReSharper</a> Live Templates. If you’re not familiar with these, think of them as code snippets that allow interaction. Each template is uniquely identified by a shortcut, which is a series of characters. To invoke it, you simply type the characters and hit TAB. It then inserts some code. Up to this point it’s like a normal snippet. The twist however is that you can then TAB through placeholders and define values (I’ll cover&nbsp; Live Templates and all the possibilities it allows in a future post).</p> <p><a href="http://hhariri.files.wordpress.com/2010/11/223.png"><img style="border-bottom:0;border-left:0;display:inline;border-top:0;border-right:0;" title="22" border="0" alt="22" src="http://hhariri.files.wordpress.com/2010/11/22_thumb1.png" width="452" height="212"></a> </p> <p>What I’ve been using for a while are some Live Templates for MSpec that allow me to define specifications with a little less effort. The first one is for empty specifications, which is useful for defining scenarios for features and then later proceeding to implement them, named <em>espec</em>. The second one is for the specifications and implementation, named <em>spec</em>.</p> <p><a href="http://hhariri.files.wordpress.com/2010/11/232.png"><img style="border-bottom:0;border-left:0;display:inline;border-top:0;border-right:0;" title="23" border="0" alt="23" src="http://hhariri.files.wordpress.com/2010/11/23_thumb.png" width="322" height="249"></a> </p> <p>To install them, the easiest way is to just open up Live Templates (ReSharper menu) and Import the <a href="http://hadihariri.com/Downloads/mspecbasiclivetemplate.xml">following file</a>.</p> <p>.</p> <p><a href="http://hhariri.files.wordpress.com/2010/11/242.png"><img style="border-bottom:0;border-left:0;display:inline;border-top:0;border-right:0;" title="24" border="0" alt="24" src="http://hhariri.files.wordpress.com/2010/11/24_thumb.png" width="315" height="175"></a> </p> <p>Obviously these are just two simple versions and can be expanded on. For instance, if you use Behaviors in MSpec, you could write an additional one for that. Feel free to use them for your own needs.</p>
