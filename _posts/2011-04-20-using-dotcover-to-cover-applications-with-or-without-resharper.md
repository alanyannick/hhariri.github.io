---
layout: post
title: Using dotCover to Cover Applications, with or without ReSharper
categories: []
tags:
- dotCover
status: publish
type: post
published: true
meta:
  reddit: a:2:{s:5:"count";i:0;s:4:"time";i:1385704313;}
  _elasticsearch_indexed_on: '2011-04-20 11:53:56'
comments: true
---
<p>One of the main benefits of Code Coverage is that it allows us to detect certain areas, branches or lines of code that are not covered during a test run, which could lead to potential issues in production. We often write some code to find to our surprise that certain parts are never actually executed. </p> <p><a href="http://www.jetbrains.com/dotcover">dotCover</a>’s integration with <a href="http://www.jetbrains.com/resharper">ReSharper</a>’s test runners, allows us to easily monitor what parts of our code are covered with tests. What happens though if we do not have tests? Whether we like it or not, there is a reality out there, and it’s mostly composed of legacy applications that have little to no knowledge of what a test is, let alone a unit test. </p> <p>Although the ideal solution is to gradually add tests to existing code until we build up a good percentage of coverage, this is a process that takes time and is not accomplished overnight. </p> <h3>Covering Execution Paths</h3> <p>What dotCover allows us to do, independently of whether we have tests or not, is to execute an application and run an analysis report on what code paths of the application have actually been hit during the run. This often helps us track down not only potential issues (“I really thought that code was being executed”) but also resolve bugs (“Ah. So that’s why it’s not working”). Running Coverage of applications is a very simple process and does not even require ReSharper to be installed. </p> <p>dotCover allows us to cover either an application that is currently open in a Visual Studio Project and selected as the Startup Application</p> <p>&nbsp;</p> <p><a href="http://hhariri.files.wordpress.com/2011/04/image25.png"><img style="display:inline;border-width:0;" title="image" border="0" alt="image" src="http://hhariri.files.wordpress.com/2011/04/image_thumb25.png" width="358" height="271"></a>&nbsp; </p> <p>&nbsp;</p> <p>or alternatively launch a non-executing Application:</p> <p>&nbsp;</p> <p><a href="http://hhariri.files.wordpress.com/2011/04/snaghtmlb0d87fd.png"><img style="display:inline;border-width:0;" title="SNAGHTMLb0d87fd" border="0" alt="SNAGHTMLb0d87fd" src="http://hhariri.files.wordpress.com/2011/04/snaghtmlb0d87fd_thumb.png" width="330" height="410"></a></p> <p>&nbsp;</p> <p>And as we can see, it covers a wide variety of application types. </p> <h3>Covering an MVC Application</h3> <p>The example below outlines an execution path of the <a href="http://mvcmusicstore.codeplex.com">MVC Music Store</a> application. We open the project and select <strong>Cover Startup Application </strong>from the dotCover menu. This immediately launches the application allowing us to execute a certain scenario. In our case, we will select some items and drop them in the cart. </p> <p>&nbsp;</p> <p><a href="http://hhariri.files.wordpress.com/2011/04/image26.png"><img style="display:inline;border-width:0;" title="image" border="0" alt="image" src="http://hhariri.files.wordpress.com/2011/04/image_thumb26.png" width="822" height="332"></a> </p> <p>&nbsp;</p> <p>When starting coverage, dotCover also launches the Controller Panel, which allows us to grab a snapshot of the execution at any point we are happy with it.</p> <p>&nbsp;</p> <p><a href="http://hhariri.files.wordpress.com/2011/04/snaghtmlb47486f.png"><img style="display:inline;border-width:0;" title="SNAGHTMLb47486f" border="0" alt="SNAGHTMLb47486f" src="http://hhariri.files.wordpress.com/2011/04/snaghtmlb47486f_thumb.png" width="282" height="216"></a></p> <p>&nbsp;</p> <p>On clicking on Get Snapshot, the execution ends and we are returned to Visual Studio, were dotCover analyses the results and displays the <strong>Coverage Results Browser </strong>window</p> <p>&nbsp;</p> <p><a href="http://hhariri.files.wordpress.com/2011/04/snaghtmlb49c05c.png"><img style="display:inline;border-width:0;" title="SNAGHTMLb49c05c" border="0" alt="SNAGHTMLb49c05c" src="http://hhariri.files.wordpress.com/2011/04/snaghtmlb49c05c_thumb.png" width="847" height="547"></a></p> <p>&nbsp;</p> <p>From here on, the possibilities of what we can do with these results are pretty much inline with that of running Code Coverage on our tests. We can examine coverage of projects, namespaces, classes and members. Navigate to a specific member as well as see in-place code coverage in the editor:</p> <p>&nbsp;</p> <p><a href="http://hhariri.files.wordpress.com/2011/04/image27.png"><img style="display:inline;border-width:0;" title="image" border="0" alt="image" src="http://hhariri.files.wordpress.com/2011/04/image_thumb27.png" width="743" height="613"></a> </p> <p>&nbsp;</p> <h3>Exporting Results</h3> <p>New to dotCover 1.1 is the ability to export results to different formats, including XML, HTML, JSON and XML for NDepend. To export to HTML for instance, we select the Export icon from the Coverage Browser Window </p> <p><a href="http://hhariri.files.wordpress.com/2011/04/snaghtmlb4f1afa.png"><img style="display:inline;border-width:0;" title="SNAGHTMLb4f1afa" border="0" alt="SNAGHTMLb4f1afa" src="http://hhariri.files.wordpress.com/2011/04/snaghtmlb4f1afa_thumb.png" width="847" height="171"></a></p> <p>&nbsp;</p> <p>and select a destination to save the output too. </p> <p><a href="http://hhariri.files.wordpress.com/2011/04/image28.png"><img style="display:inline;border-width:0;" title="image" border="0" alt="image" src="http://hhariri.files.wordpress.com/2011/04/image_thumb28.png" width="805" height="544"></a> </p> <p>&nbsp;</p> <h3>Summary</h3> <p>Although the more common usage of dotCover and in general all coverage tools are examining coverage of our code by tests, it is also useful at time to be able to run coverage of an application during a specific scenario, for testing or diagnosis reasons. Whether or not we have ReSharper, dotCover allows us to do that easily. Also remember that dotCover ships with a Console application which does permit you to run coverage of your Unit Tests from the command line and open up the results in Visual Studio. </p>
