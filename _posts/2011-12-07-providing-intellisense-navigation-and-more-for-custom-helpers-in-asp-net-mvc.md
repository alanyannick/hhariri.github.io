---
layout: post
title: Providing Intellisense, Navigation and more for Custom Helpers in ASP.NET MVC
categories:
- JetBrains
tags:
- ReSharper
status: publish
type: post
published: true
meta:
  reddit: a:2:{s:5:"count";i:0;s:4:"time";i:1385521008;}
  _elasticsearch_indexed_on: '2011-12-07 13:48:45'
---
<p>&nbsp;</p> <p>You probably are aware by now that as of ReSharper 5 we added first-class support for ASP.NET MVC. This included among many things, the ability to provide Intellisense, Create from usage and Navigation to built-in methods such as <em>Controller.View </em>or <em>Html.ActionLink</em>:</p> <p>&nbsp;</p> <h4>Navigation</h4> <p>Ctrl+Left Mouse Click or F12 will navigate to the corresponding View</p> <p>&nbsp;</p> <p><img style="background-image:none;padding-left:0;padding-right:0;display:inline;padding-top:0;border-width:0;margin:10px 0 0;" title="image" border="0" alt="image" src="http://hhariri.files.wordpress.com/2011/12/image8.png" width="567" height="257">&nbsp;</p> <p>&nbsp;</p> <p>or to the Action and/or Controller</p> <p>&nbsp;</p> <p><img style="background-image:none;padding-left:0;padding-right:0;display:inline;padding-top:0;border-width:0;margin:10px 0 0;" title="image" border="0" alt="image" src="http://hhariri.files.wordpress.com/2011/12/image9.png" width="650" height="130"></p> <h4>Intellisense and Create From Usage</h4> <p>Ability to have Intellisense when providing Actions/Controllers </p> <p>&nbsp;</p> <p><img style="background-image:none;padding-left:0;padding-right:0;display:inline;padding-top:0;border-width:0;margin:10px 0 0;" title="image" border="0" alt="image" src="http://hhariri.files.wordpress.com/2011/12/image10.png" width="600" height="98"></p> <p>&nbsp;</p> <p>as well as the possibility of creating from usage</p> <p><img style="background-image:none;padding-left:0;padding-right:0;display:inline;padding-top:0;border-width:0;margin:10px 0 0;" title="image" border="0" alt="image" src="http://hhariri.files.wordpress.com/2011/12/image11.png" width="729" height="208"></p> <p>&nbsp;</p> <p>However, what happens when you want to use a custom function, for instance, a better ActionLink or your own View method? Did you know that you can still get all these goodies? All you need to do is use some Annotations.</p> <h3>Using JetBrains.Annotations</h3> <p>ReSharper uses annotations via the form of .NET attributes to figure out what an ASP.NET MVC View, Action or Controller is. As such, all we need to do for our custom method and extensions to leverage this, is tell ReSharper what parameter corresponds to what. </p> <p>&nbsp;</p> <h4>Referencing the annotations</h4> <p>To use ReSharper annotations, we have mainly two options (with a third one hopefully coming soon):</p> <p>1. We can include the library JetBrains.Annotations.dll in our project and reference it.</p> <p>2. We can copy the annotations and include it as source in our project</p> <p><em>[3. We can use nuget install-package JetBrains.Annotations] Coming soon!</em></p> <p>&nbsp;</p> <p>The first option is pretty simple. The DLL is located in the ReSharper installation <em>bin </em>folder. For the second option, we open up <strong>ReSharper | Options </strong>and select <strong>Code Annotations</strong> entry</p> <p>&nbsp;</p> <p><img style="background-image:none;padding-left:0;padding-right:0;display:inline;padding-top:0;border-width:0;margin:10px 0 0;" title="image" border="0" alt="image" src="http://hhariri.files.wordpress.com/2011/12/image12.png" width="583" height="448"></p> <p>&nbsp;</p> <p>select the <strong>Copy default implementation to clipboard </strong>button and paste into an empty file. </p> <p>&nbsp;</p> <h4>Annotating custom methods</h4> <p>Once we’ve completed this step, all we need to do is annotate our parameters with the correct attributes. We’re interested in 3 different attributes in particular:</p> <p>&nbsp;</p> <ul> <li><strong>AspMvcView</strong> which indicates the parameter is a View  <li><strong>AspMvcAction</strong> which indicates the parameter is an Action  <li><strong>AspMvcController</strong> which indicates the parameter is a Controller </li></ul> <p>&nbsp;</p> <p>Here is the header corresponding to a base controller with a custom method named <em>ExtendedView </em></p> <p>&nbsp;</p> <p><img style="background-image:none;padding-left:0;padding-right:0;display:inline;padding-top:0;border-width:0;margin:10px 0 0;" title="image" border="0" alt="image" src="http://hhariri.files.wordpress.com/2011/12/image13.png" width="345" height="117"></p> <p>&nbsp;</p> <p>and here’s the header for a custom ActionLink </p> <p><img style="background-image:none;padding-left:0;padding-right:0;display:inline;padding-top:0;border-width:0;margin:10px 0 0;" title="image" border="0" alt="image" src="http://hhariri.files.wordpress.com/2011/12/image14.png" width="660" height="185">&nbsp;</p> <p>&nbsp;</p> <p>(the body of both methods are omitted and are not necessary to demonstrate the functionality)</p> <p>&nbsp;</p> <p>As soon as we do this, ReSharper picks up these methods and offers us the same functionality that is provided for the methods that ship out of the box:</p> <p>&nbsp;</p> <p><img style="background-image:none;padding-left:0;padding-right:0;display:inline;padding-top:0;border-width:0;margin:10px 0 0;" title="image" border="0" alt="image" src="http://hhariri.files.wordpress.com/2011/12/image15.png" width="642" height="158"></p> <p>&nbsp;</p> <p>Notice how we still get Navigation (the underlining), Intellisense and Create from usage in our <em>TheOnlyActionLink </em>custom method. Its much the same for the <em>ExtendedView </em>method</p> <p>&nbsp;</p> <p><img style="background-image:none;padding-left:0;padding-right:0;display:inline;padding-top:0;border-width:0;margin:10px 0 0;" title="image" border="0" alt="image" src="http://hhariri.files.wordpress.com/2011/12/image16.png" width="501" height="128"></p> <p>&nbsp;</p> <p>That’s all there is to it.</p>
