---
layout: post
title: Per Project Settings or How to have different naming styles for my test project
categories:
- JetBrains
tags:
- ReSharper 6.1
status: publish
type: post
published: true
meta:
  reddit: a:2:{s:5:"count";i:0;s:4:"time";i:1385521006;}
  _elasticsearch_indexed_on: '2012-01-18 17:55:26'
comments: true
---
<p>&nbsp;</p> <p>One nitpick that I myself and many have had with <a href="http://www.jetbrains.com/resharper">ReSharper</a> is not being able to have different naming styles for types based on different projects. In my code I normally name classes using CamelCase</p> <p>&nbsp;</p> <p><img style="background-image:none;padding-left:0;padding-right:0;display:inline;padding-top:0;border-width:0;margin:10px 0 0;" title="image" border="0" alt="image" src="{{ site.images }}/pps-1.png" width="315" height="112"></p> <p>&nbsp;</p> <p>and in my test project I use all_lowercase</p> <p>&nbsp;</p> <p><img style="background-image:none;padding-left:0;padding-right:0;display:inline;padding-top:0;border-width:0;margin:10px 0 0;" title="image" border="0" alt="image" src="{{ site.images }}/pps-2.png" width="403" height="103"></p> <p>&nbsp;</p> <p>Unless you add all_lowercase as a valid naming style, you’ll always end up with those squiggly lines under all your tests. And let’s admit it, it’s not a big deal but it’s annoying. #FirstWorldProblem</p> <p>&nbsp;</p> <h3>Say hello to my little layer</h3> <p>With ReSharper 6.1 we introduced the <a href="http://blogs.jetbrains.com/dotnet/2011/11/resharper-settings-in-61/">concepts of layers</a>, which open up many new possibilities, including sharing <a href="http://blogs.jetbrains.com/dotnet/2011/12/resharper61-settings-dropbox-and-company-wide/">settings on DropBox and or setting company wide standards</a>. What you might not know is that it allows Per Project Settings too! No big deal if you didn’t know, since we currently do not support it via the User Interface so it would be hard to figure it out. However it’s pretty simple to do and I’m going to show you how. </p> <p>&nbsp;</p> <p>Our goal here is to allow all_lowercase settings for classes in our test project (<strong>Tests</strong>) and not permit the same in other projects (<strong>Project</strong>). This is the sample project layout we’re going to be working with</p> <p>&nbsp;</p> <p><img style="background-image:none;padding-left:0;padding-right:0;display:inline;padding-top:0;border-width:0;margin:10px 0 0;" title="image" border="0" alt="image" src="{{ site.image }}/pps-3.png" width="274" height="190"></p> <p>To make this happen, we need to create specific settings for the <strong>Tests</strong> project and allow the possibility of classes being all_lowercase. That is, the <strong>Tests</strong> project needs its own <strong>DotSettings</strong> file.</p> <p>&nbsp;</p> <p>Since there’s no specific button or option to add Per Project settings in the UI, this is where we need to kind of use a workaround. We need to have a Settings file for the project and then edit the options and save it to this file. There are many ways to create this new settings files. We can copy the solution one and rename it, we can export the current settings, we can mount a new layer and have ReSharper create it for us, etc. </p> <p>We’re going to use this last method. Why? Because since ReSharper mounts it when it creates the file, it will allow us to edit the settings too. </p> <p>&nbsp;</p> <p>&nbsp;</p> <p>1. With the Solution open, click on <strong>Manage Options </strong>under <strong>ReSharper </strong></p> <p>&nbsp;</p> <p>2. Under This Computer, click on the Add Layer icon (on the right) and select <strong>Create Settings File</strong></p> <p><strong></strong>&nbsp;</p> <p><img style="background-image:none;padding-left:0;padding-right:0;display:inline;padding-top:0;border-width:0;margin:10px 0 0;" title="image" border="0" alt="image" src="{{ site.image }}/pps-4.png" width="430" height="346"></p> <p>&nbsp;</p> <p>&nbsp;</p> <p>3. Save the file to the <strong>Tests</strong> project folder, in our case that would be under SolutionDir\Tests and name it (and here’s the <strong>important part</strong>) <strong>Tests.csproj.DotSettings</strong>. That is, it should be named with the ProjectName, followed by <strong>csproj</strong> or <strong>vbproj</strong> based on the type of project and with the extension <strong>DotSettings</strong>.</p> <p>&nbsp;</p> <p>4. Now that we have the settings file mounted, we need to change the required settings, which in our case is to allow classes to have all_lowercase (this obviously works for other settings too). As such, double-click the recently mounted file or right click and click on <strong>Edit</strong></p> <p>&nbsp;</p> <p><img style="background-image:none;padding-left:0;padding-right:0;display:inline;padding-top:0;border-width:0;margin:10px 0 0;" title="image" border="0" alt="image" src="{{ site.images }}/pps-5.png" width="681" height="303"></p> <p>&nbsp;</p> <p>5. The Options dialog comes up. We want to edit the naming styles</p> <p>&nbsp;</p> <p><img style="background-image:none;padding-left:0;padding-right:0;display:inline;padding-top:0;border-width:0;margin:10px 0 0;" title="image" border="0" alt="image" src="{{ site.images }}/pps-6.png" width="813" height="552"></p> <p>&nbsp;</p> <p>Modify any other settings you wish at this point and once done, hit <strong>Save </strong>on the <strong>Options </strong>dialog. </p> <p>&nbsp;</p> <p><img style="background-image:none;padding-left:0;padding-right:0;display:inline;padding-top:0;border-width:0;margin:10px 0 0;" title="image" border="0" alt="image" src="{{ site.images }}/pps-7.png" width="602" height="492"></p> <p>&nbsp;</p> <p>At this point, we can remove the mounted settings as its not required for it to actually work. We can also leave it in order to easily access the settings for the project in the future. If you do leave it, <strong>make sure you uncheck the checkbox so that settings are not applied to the entire solution</strong>. </p> <p>&nbsp;</p> <p>[Recommendation: If you decide to leave the settings mounted, mount these under Solution Shared or Solution Personal as opposed to This Computer so that you don’t end up with a long list of different settings files]</p> <p>&nbsp;</p> <p>&nbsp;</p> <p>As soon as we hit Save, the new settings automatically are picked up by ReSharper and take effect. We can now see that the naming style no longer appears incorrect under the <strong>Tests </strong>project</p> <p>&nbsp;</p> <p><img style="background-image:none;padding-left:0;padding-right:0;display:inline;padding-top:0;border-width:0;margin:10px 0 0;" title="image" border="0" alt="image" src="{{ site.images }}/pps-8.png" width="395" height="84"></p> <p>&nbsp;</p> <p>and if we try and use the same style in the actual <strong>Project </strong>we do get the warning</p> <p>&nbsp;</p> <p><img style="background-image:none;padding-left:0;padding-right:0;display:inline;padding-top:0;border-width:0;margin:10px 0 0;" title="image" border="0" alt="image" src="{{ site.images }}/pps-9.png" width="708" height="107"></p> <p>&nbsp;</p> <h3></h3> <h3>The UI will come</h3> <p>Once you do this once, you can pretty much copy the same file over to your different projects and rename it to match the project name. In one of the next versions of ReSharper we will provide a more intuitive UI (or should we say we’ll provide an actual UI) for this. For now however, I think this minor hack will make a few people happy! </p>
