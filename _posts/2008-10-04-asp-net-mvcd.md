---
layout: post
title: ASP.NETÂ MVCD
categories: []
tags:
- ASP.NET MVC
status: publish
type: post
published: true
meta:
  _elasticsearch_indexed_on: '2008-10-04 08:43:00'
---
<p>I had a short talk yesterday on ASP.NET MVC. For someone that has been developing using ASP.NET and seeing ASP.NET MVC for the first time, has an immediate reaction of &quot;we&#039;re going back in time, we&#039;re heading back to spaghetti code&quot;. And it&#039;s understandable. What would be your first impression if you saw something like the code below in an ASPX file?</p><div style="line-height:12pt;background-color:#f4f4f4;width:97.5%;font-family:consolas, 'Courier New', courier, monospace;height:264px;max-height:200px;font-size:8pt;cursor:text;border-color:gray;border-style:solid;border-width:1px;margin:20px 0 10px;padding:4px;"><div style="line-height:12pt;background-color:#f4f4f4;width:100%;font-family:consolas, 'Courier New', courier, monospace;color:black;font-size:8pt;border-style:none;padding:0;"><pre style="line-height:12pt;background-color:white;width:100%;font-family:consolas, 'Courier New', courier, monospace;color:black;font-size:8pt;border-style:none;margin:0;padding:0;"><span style="color:#606060;">   1:</span> &lt;%<span style="color:#0000ff;">foreach</span> (Customer customer <span style="color:#0000ff;">in</span> ViewData.Model)</pre><pre style="line-height:12pt;background-color:#f4f4f4;width:100%;font-family:consolas, 'Courier New', courier, monospace;color:black;font-size:8pt;border-style:none;margin:0;padding:0;"><span style="color:#606060;">   2:</span>    &gt;</pre><pre style="line-height:12pt;background-color:white;width:100%;font-family:consolas, 'Courier New', courier, monospace;color:black;font-size:8pt;border-style:none;margin:0;padding:0;"><span style="color:#606060;">   3:</span> &lt;tr&gt;</pre><pre style="line-height:12pt;background-color:#f4f4f4;width:100%;font-family:consolas, 'Courier New', courier, monospace;color:black;font-size:8pt;border-style:none;margin:0;padding:0;"><span style="color:#606060;">   4:</span>     &lt;td style=<span style="color:#006080;">&quot;width: 98px&quot;</span>&gt;</pre><pre style="line-height:12pt;background-color:white;width:100%;font-family:consolas, 'Courier New', courier, monospace;color:black;font-size:8pt;border-style:none;margin:0;padding:0;"><span style="color:#606060;">   5:</span>         &lt;%=Html.ActionLink(customer.Firstname, <span style="color:#006080;">&quot;Edit&quot;</span>, <span style="color:#0000ff;">new</span> { id = customer.Id}) %&gt;</pre><pre style="line-height:12pt;background-color:#f4f4f4;width:100%;font-family:consolas, 'Courier New', courier, monospace;color:black;font-size:8pt;border-style:none;margin:0;padding:0;"><span style="color:#606060;">   6:</span>         &amp;nbsp;&lt;/td&gt;</pre><pre style="line-height:12pt;background-color:white;width:100%;font-family:consolas, 'Courier New', courier, monospace;color:black;font-size:8pt;border-style:none;margin:0;padding:0;"><span style="color:#606060;">   7:</span>     &lt;td style=<span style="color:#006080;">&quot;width: 112px&quot;</span>&gt;</pre><pre style="line-height:12pt;background-color:#f4f4f4;width:100%;font-family:consolas, 'Courier New', courier, monospace;color:black;font-size:8pt;border-style:none;margin:0;padding:0;"><span style="color:#606060;">   8:</span>         &lt;%=customer.Lastname %&gt;</pre></div></div><p>We&#039;ve moved on several years and the best we could do was replace a <strong>for</strong> loop with a <strong>foreach</strong>? </p><p>But ASP.NET MVC isn&#039;t about going back to unreadable code. It&#039;s the exact opposite. MVC is about separation of concerns. For those not familiar with the MVC Movie, three actors participate: The Model, the View and the Controller. </p><p><strong>Model</strong>: The business model, the data, the domain logic, whatever you want to call it. It&#039;s responsibility is the model and everything to do with the model.</p><p><strong>View</strong>: The user interface. It displays and collects information. It&#039;s entire responsibility is to display the information and to receive information from the user.</p><p><strong>Controller</strong>: Middleman. It&#039;s job is to coordinate between the Model and the View. It gets information from the model and provides it to the view. It receives information from the view and passes it back to the model. It takes care of any logic that has to do with both parties involved. </p><p>To put it in other terms, the Model is the property owner, the View is the guy that wants to buy the house. The Controller is the notary. It coordinates the actions between the two parties involved. It&#039;s not there to make decisions for the owner or for the buyer. It&#039;s an neutral entity (that gets paid way too much IMHO, but that&#039;s beside the point). Without one of the parties, the notary has no reason for existing. </p><p>[Note for the purists: this is not the strict MVC architecture defined in Smalltalk where the View had access to the Model]</p><p>Going back to the previous code and looking at what it&#039;s actually doing, we see that it&#039;s only looping through a list of customers and display the information. In other words, it is not stepping out of it&#039;s boundaries. It&#039;s not trying to take on other responsibilities. However, having said that, nothing stops us from doing other things in the code. If we have access to the model, we can start doing some nasty things by delegating the responsibility of a controller to a view and let the view start deciding when and how something should be displayed. </p><p><strong>The developer: the forth actor</strong></p><p>There are really four actors in ASP.NET MVC(D). You need to apply good design principles and truly understand what single responsibility and separation of concerns means. Don&#039;t think for a moment that you are safe just because <a href="http://blogs.imeta.co.uk/HHariri/archive/2008/08/21/what-was-wrong-with-the-code.aspx">you&#039;re using a framework</a>, pattern or architecture.</p>
